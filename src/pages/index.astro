---
import BaseLayout from "../layouts/BaseLayout.astro";
import BeanEntry from "../components/BeanEntry.astro";
import { beans } from "../data/beans";
import { withBase } from "../utils/paths";

const initialCommand = `$ bean log ${beans[0].date} ${beans[0].beanKey}`;
const initialLinkHref = withBase(`/log/${beans[0].slug}/`);
---
<BaseLayout
  title="Beans"
  description="A CLI-inspired coffee log."
  initialCommand={initialCommand}
  initialLinkHref={initialLinkHref}
>
  <section class="hero">
    <h1>Beans: a coffee log in CLI form.</h1>
    <p>
      A knowledge garden for cups, tools, and attention. The command line is a metaphor; the
      writing is the record.
    </p>
    <p>
      <a href={withBase("/about/")}>[about]</a> 路 <a href={withBase("/equipment/")}>[equipment]</a> 路{" "}
      <a href={withBase("/recipes/")}>[recipes]</a> 路 <a href={withBase("/roasters/")}>[roasters]</a>{" "}
      路 <a href={withBase("/coffees/")}>[coffees]</a>
    </p>
  </section>
  {beans.map((bean) => (
    <BeanEntry bean={bean} />
  ))}
</BaseLayout>
